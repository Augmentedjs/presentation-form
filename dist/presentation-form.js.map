{"version":3,"sources":["webpack://presentation-form/webpack/universalModuleDefinition","webpack://presentation-form/webpack/bootstrap","webpack://presentation-form/./src/functions/buildForm.js","webpack://presentation-form/./src/index.js","webpack://presentation-form/./src/autoForm.js","webpack://presentation-form/external {\"commonjs\":\"next-core-utilities\",\"commonjs2\":\"next-core-utilities\",\"amd\":\"next-core-utilities\",\"root\":\"next-core-utilities\"}","webpack://presentation-form/external {\"commonjs\":\"presentation-decorator\",\"commonjs2\":\"presentation-decorator\",\"amd\":\"presentation-decorator\",\"root\":\"presentation-decorator\"}","webpack://presentation-form/external {\"commonjs\":\"presentation-request\",\"commonjs2\":\"presentation-request\",\"amd\":\"presentation-request\",\"root\":\"presentation-request\"}","webpack://presentation-form/external {\"commonjs\":\"presentation-models\",\"commonjs2\":\"presentation-models\",\"amd\":\"presentation-models\",\"root\":\"presentation-models\"}","webpack://presentation-form/external {\"commonjs\":\"presentation-dom\",\"commonjs2\":\"presentation-dom\",\"amd\":\"presentation-dom\",\"root\":\"presentation-dom\"}","webpack://presentation-form/external {\"commonjs\":\"presentation-widget\",\"commonjs2\":\"presentation-widget\",\"amd\":\"presentation-widget\",\"root\":\"presentation-widget\"}","webpack://presentation-form/./src/functions/messages.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__5__","__WEBPACK_EXTERNAL_MODULE__6__","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__8__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","form","document","fs","keys","display","styles","style","lg","att","displayCol","req","required","lb","fields","input","Widget","model","reset","binding","submit","AutomaticForm","formCompile","DecoratorView","constructor","options","super","Model","isObject","parsedSchema","JSON","schema","description","_retrieveSchema","uri","that","request","url","contentType","dataType","success","data","status","error","console","setURI","setSchema","showProgressBar","show","e","Dom","showMessage","message","validate","messages","isValid","render","populate","remove","html","ii","ll"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,uBAAwBA,QAAQ,0BAA2BA,QAAQ,wBAAyBA,QAAQ,uBAAwBA,QAAQ,oBAAqBA,QAAQ,wBACzK,mBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,oBAAqB,CAAC,sBAAuB,yBAA0B,uBAAwB,sBAAuB,mBAAoB,uBAAwBJ,GAC/I,iBAAZC,QACdA,QAAQ,qBAAuBD,EAAQG,QAAQ,uBAAwBA,QAAQ,0BAA2BA,QAAQ,wBAAyBA,QAAQ,uBAAwBA,QAAQ,oBAAqBA,QAAQ,wBAEhNJ,EAAK,qBAAuBC,EAAQD,EAAK,uBAAwBA,EAAK,0BAA2BA,EAAK,wBAAyBA,EAAK,uBAAwBA,EAAK,oBAAqBA,EAAK,wBAR7L,CASGO,MAAM,SAASC,EAAgCC,EAAgCC,EAAgCC,EAAgCC,EAAgCC,GAClL,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUd,QAGnC,IAAIC,EAASW,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHhB,QAAS,IAUV,OANAiB,EAAQH,GAAUI,KAAKjB,EAAOD,QAASC,EAAQA,EAAOD,QAASa,GAG/DZ,EAAOe,GAAI,EAGJf,EAAOD,QA0Df,OArDAa,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASrB,EAASsB,EAAMC,GAC3CV,EAAoBW,EAAExB,EAASsB,IAClCG,OAAOC,eAAe1B,EAASsB,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAS7B,GACX,oBAAX8B,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAe1B,EAAS8B,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAe1B,EAAS,aAAc,CAAEgC,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAASvC,GAChC,IAAIsB,EAAStB,GAAUA,EAAOkC,WAC7B,WAAwB,OAAOlC,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAY,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,SAIjBhC,EAAoBA,EAAoBiC,EAAI,G,gFClFrD,W,UAkBoB,CAAC,EAAD,yBAclB,MAAMC,EAAOC,uBAAb,GACMC,EAAKD,uBADX,YAEME,EAAOzB,YAFb,GAGMT,EAAMmC,EAAWA,EAAZ,OAA4BD,EAHvC,OAIA,cAEA,KAAW,CACT,MAAME,EAASC,QAAf,KACA,KACE,IAAKtC,EAAL,EAAYA,EAAIqC,EAAhB,OAA+BrC,IAC7BgC,gBAAmBK,EAAnBL,IAON,GAFAA,iBAEA,EAAU,CACR,MAAMO,EAAKN,uBAAX,UAEA,GADAf,EAAIe,wBAAJf,GACA,EAAiB,CACf,MAAMsB,EAAMP,yBAAZ,SACAO,UACAD,sBAEFA,iBACAL,iBAOF,IAJA,IACEE,KAGGpC,EAAL,EAAYA,EAAZ,EAAmBA,IAAK,CACtB,IAAIyC,GAAJ,EACA,IACEA,GAAa,IAACN,UAAaC,EAAbD,KAGhB,IACEO,OAAOC,UAAiBP,EAAjBO,IACPC,EAAKX,uBAALW,SACAA,qBAAuBR,EAAvBQ,IACA1B,EAAIe,wBAAwBY,EAAOT,EAAPS,IAA5B3B,aACA0B,iBACAE,EAAQC,eAAaF,EAAOT,EAApBW,IAAiCX,EAAjCW,GAA6CC,EAAMZ,EAAnDW,IAAgEX,EAAhEW,KAARD,GACA,GACE,GACEF,iBAEFV,mBAEAA,iBACA,GACEA,mBAMR,KAAiB,CACf,MAAMe,EAAQhB,uBAAd,UACAgB,+BACAA,eAAoB,QAAOC,IAA3BD,SACAA,qCACA,MAAM/B,EAAIe,wBAAV,GACAgB,iBACAjB,iBAGF,KAAkB,CAChB,MAAMmB,EAASlB,uBAAf,UACAkB,gCACAA,eAAqB,QAAOD,IAA5BC,UACAA,sCACA,MAAMjC,EAAIe,wBAAV,GACAkB,iBACAnB,iBAEF,W,mHC/GF,I,IAAA,M,IACA,M,qDAESoB,wB,EAAeC,uB,8ECHxB,WACA,OACA,OACA,O,IACA,M,IACA,M,IACA,M,mDAsBA,MAAMD,UAAsBE,EAA5B,cACEC,YAAYC,GAyCV,GAxCA,IACEA,MAEGA,EAAL,UACEA,kBAEFC,MAAA,GACAnE,KAAA,eACAA,KAAA,WACAA,KAAA,SACAA,KAAA,gBACAA,KAAA,WACAA,KAAA,eACAA,KAAA,aACAA,KAAA,aACAA,KAAA,eACAA,KAAA,gBACAA,KAAA,eAEIA,KAAK0D,OAASQ,GAAWA,EAA7B,UACElE,KAAA,cACUA,KAAL,QACLA,KAAA,MAAa,IAAIoE,EAAjB,OAGEF,EAAJ,eACElE,KAAA,aAAoBkE,EAApB,cAGEA,EAAJ,cACElE,KAAA,YAAmBkE,EAAnB,aAGEA,EAAJ,cACElE,KAAA,YAAmBkE,EAAnB,aAGEA,EAAJ,cACElE,KAAA,YAAmBkE,EAAnB,aAEEA,EAAJ,OAEE,IAAI,IAAAG,UAASH,EAAb,QACElE,KAAA,OAAckE,EAAd,WACK,CAEL,IAAII,EAAJ,KACA,IACEA,EAAeC,WAAWL,EAA1BI,QACIA,IAAgB,IAAAD,UAApB,KACErE,KAAA,UAEF,UAGGA,KAAL,SACEA,KAAA,gBAAqBkE,EAArB,QACAlE,KAAA,iBAKFkE,EAAJ,KACElE,KAAA,GAAUkE,EAAV,IAGEA,EAAJ,MACElE,KAAA,IAAWkE,EAAX,KAGEA,EAAJ,MACElE,KAAA,MAAakE,EAAb,MAEDlE,KAAA,iBAGGkE,SAAiB,IAAAG,UAASH,EAA9B,OACElE,KAAA,UAAekE,EAAf,MAEEA,EAAJ,QACElE,KAAA,MAAakE,EAAb,OAEEA,EAAJ,cACElE,KAAA,YAAmBkE,EAAnB,aAGEA,EAAJ,UACElE,KAAA,QAAekE,EAAf,SAGElE,KAAK0D,OAAS1D,KAAlB,MACEA,KAAA,UAAiBA,KAAjB,KAEEA,KAAJ,QACEA,KAAA,kBAAyBA,KAAzB,aAEEA,KAAJ,QACQA,KAAD,MAAD,KAAeA,KAAKiB,OAAgBjB,KAAKwE,OAA7C,QACExE,KAAA,KAAYA,KAAKwE,OAAjB,OAEIxE,KAAD,aAAD,KAAsBA,KAAKyE,cAAuBzE,KAAKwE,OAA3D,cACExE,KAAA,YAAmBA,KAAKwE,OAAxB,aAGExE,KAAKwE,OAAT,SACExE,KAAA,UAAiBA,KAAKwE,OAAtB,SAEAxE,KAAA,aAGGA,KAAL,eACEA,KAAA,QAAeA,KAAKwE,OAApB,WACAxE,KAAA,aAAoBA,KAApB,OACAA,KAAA,kBAGFA,KAAA,gBAuDJ0E,gBAAgBC,GACd,MAAMC,EAAN,KACA,IAAIJ,EAAJ,KACA,OAAO,IAAAK,SAAQ,CACbC,IADa,EAEbC,YAFa,mBAGbC,SAHa,OAIbC,QAAS,CAACC,EAAMC,KAEZX,EADF,iBAAWU,EACAX,WAATC,GAEAA,EAEFI,aAAgB,CAAE,OAAUJ,KAE9BY,MAAO,CAACF,EAAMC,KACZE,aAAc,GAAErF,KAAKiB,+BAArBoE,MAUNC,OAAOX,GACL3E,KAAA,MAOFuF,UAAUf,GACRxE,KAAA,SACAA,KAAA,QAAewE,EAAf,WACAxE,KAAA,cACAA,KAAA,eAEIA,KAAJ,MACE0D,UAAY1D,KAAZ0D,KAQJ8B,gBAAgBC,GACd,GAAIzF,KAAJ,GAAa,CACX,MAAM0F,EAAIC,mBAAa3F,KAAvB,IACA,KAAO,CACL,MAAMwC,EAAIkD,gBAAV,YACA,IACElD,gBAAmBiD,EAAD,QAAlBjD,OACAA,mBAAsBiD,EAAD,UAArBjD,YAURoD,YAAYC,GACV,GAAI7F,KAAJ,GAAa,CACX,MAAM0F,EAAIC,mBAAa3F,KAAvB,IACA,KAAO,CACL,MAAMwC,EAAIkD,gBAAV,oBACA,IACElD,iBAURsD,WACE,IAAIC,EAAY/F,KAAD,MAAeA,KAAK0D,MAApB,WAAf,KAMA,OALK1D,KAAK0D,MAAN,cAAqCqC,EAAzC,SACE/F,KAAA,aAAiB,aAAyB+F,EAA1C,WAEA/F,KAAA,gBAEF,EAOFgG,UACE,OAAQhG,KAAD,OAAeA,KAAK0D,MAApB,UAOTuC,SACE,IAAKjG,KAAL,aAEE,OADAqF,aAAc,GAAErF,KAAKiB,2CACrB,KAMF,GAHAjB,KAAA,SANO,KAOPA,KAAA,qBAEIA,KAAJ,GAuCE,OAFAqF,aAAc,GAAErF,KAAKiB,0CACrBjB,KAAA,oBACA,KAvCW,CACX,MAAM0F,EAAIC,mBAAa3F,KAAvB,IACA,KAAO,CACDA,KAAJ,OACE2F,qBAAgB3F,KAAhB2F,OAGF,IAAIxD,EAAIQ,uBAAR,YAA4Cf,EAAIe,wBAAhD,gBACAR,iBACAuD,cAPK,GAUL,MAAMhD,GAAO,aACT1C,KAAD,MAAeA,KAAf,MADU,KAEXA,KAFW,YAGXA,KAHW,QAIXA,KAAK0D,MAJM,SAKX1D,KALW,UAMXA,KANW,KAOXA,KAPW,QAQXA,KARW,YASXA,KATW,aAUXA,KAVW,YAWXA,KAXW,MAYXA,KAZF,SAcA,GACE0F,iBAEF1F,KAAA,QAAe2F,uBAAkB3F,KA3B5B,IA8BLmC,EAAIQ,uBAAJR,KACAA,2BACAuD,kBAWJ,OAHA1F,KAAA,iBACAA,KAAA,uBACAA,KAAA,oBACA,KAOF2D,QAKE,OAJI3D,KAAJ,UACEA,KAAA,gBACAA,KAAA,eAEF,KAQFkG,SAAShB,GAEP,OADAlF,KAAA,aACA,KAMFmG,SAQE,OANAnG,KAAA,mBACAA,KAAA,MACAA,KAAA,gBAEA2F,gBAAU3F,KAAV2F,IAEA,M,UAIW7B,G,cC/YflE,EAAOD,QAAUM,G,cCAjBL,EAAOD,QAAUO,G,cCAjBN,EAAOD,QAAUQ,G,cCAjBP,EAAOD,QAAUS,G,cCAjBR,EAAOD,QAAUU,G,cCAjBT,EAAOD,QAAUW,G,wFCAiByF,IAChC,IAAIK,EAAJ,GACA,GAAIL,GAAYA,SAAhB,EAAqC,CACnCK,yBACA,MAAMzF,EAAIoF,EAAV,OACA,IAAIrF,EAAJ,EAAW2F,EAAX,EACA,IAAK3F,EAAL,EAAYA,EAAZ,EAAmBA,IAAK,CACtB,MAAM4F,EAAKP,YAAX,OACA,IAAKM,EAAL,EAAaA,EAAb,EAAsBA,IACpBD,GAAe,OAAML,sBAGzBK,WAEF","file":"presentation-form.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"next-core-utilities\"), require(\"presentation-decorator\"), require(\"presentation-request\"), require(\"presentation-models\"), require(\"presentation-dom\"), require(\"presentation-widget\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"presentation-form\", [\"next-core-utilities\", \"presentation-decorator\", \"presentation-request\", \"presentation-models\", \"presentation-dom\", \"presentation-widget\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"presentation-form\"] = factory(require(\"next-core-utilities\"), require(\"presentation-decorator\"), require(\"presentation-request\"), require(\"presentation-models\"), require(\"presentation-dom\"), require(\"presentation-widget\"));\n\telse\n\t\troot[\"presentation-form\"] = factory(root[\"next-core-utilities\"], root[\"presentation-decorator\"], root[\"presentation-request\"], root[\"presentation-models\"], root[\"presentation-dom\"], root[\"presentation-widget\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__5__, __WEBPACK_EXTERNAL_MODULE__6__, __WEBPACK_EXTERNAL_MODULE__7__, __WEBPACK_EXTERNAL_MODULE__8__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","import { Widget } from \"presentation-widget\";\n\n/**\n * @function formCompile Creats the markup for the form\n * @param {string} name Name of the form\n * @param {string} description A description\n * @param {object} fields Object of fields with types (see JSON scheme properties format)\n * @param {object} model Data for the fields by key\n * @param {array} required Array of requires fields\n * @param {string} binding Name of the binding function\n * @param {array} display Array of fields to display\n * @param {Dom} nestedInput Dom tree of nested markup\n * @param {string} submitButton Name of the Submit button\n * @param {string} resetButton  Name of the reset button\n * @param {string} style Name of styles\n * @param {string} tagName Name of tag\n * @returns {Dom} Dom tree of form elements\n */\nconst formCompile = (\n                      name,\n                      description,\n                      fields,\n                      model,\n                      required,\n                      binding,\n                      display,\n                      nestedInput,\n                      submitButton,\n                      resetButton,\n                      style,\n                      tagName\n                    ) => {\n  const form = document.createElement(tagName),\n        fs = document.createElement(\"fieldset\"),\n        keys = Object.keys(fields),\n        l = ((display) ? display.length: keys.length);\n  let t, i, input, lb, req;\n\n  if (style) {\n    const styles = style.split(\" \");\n    if (styles) {\n      for (i = 0; i < styles.length; i++) {\n        form.classList.add(styles[i]);\n      }\n    }\n  }\n\n  form.appendChild(fs);\n\n  if (name) {\n    const lg = document.createElement(\"legend\");\n    t = document.createTextNode(name);\n    if (description) {\n      const att = document.createAttribute(\"title\");\n      att.value = description;\n      lg.setAttributeNode(att);\n    }\n    lg.appendChild(t);\n    fs.appendChild(lg);\n  }\n\n  if (!display) {\n    display = keys;\n  }\n\n  for (i = 0; i < l; i++) {\n    let displayCol = true;\n    if (display) {\n      displayCol = (keys.indexOf(display[i]) !== -1) ? true : false;\n    }\n\n    if (displayCol) {\n      req = (required.indexOf(display[i]) !== -1);\n      lb = document.createElement(\"label\");\n      lb.setAttribute(\"for\", display[i]);\n      t = document.createTextNode(fields[display[i]].description);\n      lb.appendChild(t);\n      input = Widget.Input(fields[display[i]], display[i], model[display[i]], display[i], req, binding);\n      if (nestedInput) {\n        if (input) {\n          lb.appendChild(input);\n        }\n        fs.appendChild(lb);\n      } else {\n        fs.appendChild(lb);\n        if (input) {\n          fs.appendChild(input);\n        }\n      }\n    }\n  }\n\n  if (resetButton) {\n    const reset = document.createElement(\"button\");\n    reset.setAttribute(\"type\", \"reset\");\n    reset.setAttribute(`data-${binding}`, \"reset\");\n    reset.setAttribute(\"data-click\", \"reset\");\n    const t = document.createTextNode(resetButton);\n    reset.appendChild(t);\n    form.appendChild(reset);\n  }\n\n  if (submitButton) {\n    const submit = document.createElement(\"button\");\n    submit.setAttribute(\"type\", \"submit\");\n    submit.setAttribute(`data-${binding}`, \"submit\");\n    submit.setAttribute(\"data-click\", \"submit\");\n    const t = document.createTextNode(submitButton);\n    submit.appendChild(t);\n    form.appendChild(submit);\n  }\n  return form;\n};\n\nexport default formCompile;\n","import AutomaticForm from \"./autoForm.js\";\nimport formCompile from \"./functions/buildForm.js\";\n\nexport { AutomaticForm, formCompile };\n","import { isObject } from \"next-core-utilities\";\nimport { DecoratorView } from \"presentation-decorator\";\nimport { request } from \"presentation-request\";\nimport { Model } from \"presentation-models\";\nimport Dom from \"presentation-dom\";\nimport formCompile from \"./functions/buildForm.js\";\nimport formatValidationMessages from \"./functions/messages.js\";\n\n/**\n * A automatic form view created from a JSON Schema\n * <br/>\n *\n * Supported options:\n * <ul>\n * <li>schema - The JSON Schema for use with the UI and validation</li>\n * <li>data - prepopulate the model data</li>\n * <li>crossOrigin - Set CORS for the fetch</li>\n * <li>uri - the uri to fetch data from </li>\n * <li>title - the title of the form</li>\n * <li>description</li>\n * <li>display - Array of fields to display (others are hidden)</li>\n * <li>nestedInput - add additional markup in the form (DOM elements)</li>\n * <li>submitButton - set the name of the submit button (binds to a submit function)</li>\n * <li>resetButton - set the name of the reset button (binds to a reset function)</li>\n * </ul>\n * @param {Object} options Options for the class\n * @extends DecoratorView\n */\nclass AutomaticForm extends DecoratorView {\n  constructor(options) {\n    if (!options) {\n      options = {};\n    }\n    if (!options.tagName) {\n      options.tagName = \"form\";\n    }\n    super(options);\n    this.crossOrigin = false;\n    this._fields = {};\n    this.uri = null;\n    this.isInitalized = false;\n    this.title = null;\n    this.description = \"\";\n    this._required = [];\n    this.display = null;\n    this.nestedInput = false;\n    this.submitButton = false;\n    this.resetButton = false;\n\n    if (this.model && options && options.clearForm) {\n      this.model.clear();\n    } else if (!this.model) {\n      this.model = new Model();\n    }\n\n    if (options.submitButton) {\n      this.submitButton = options.submitButton;\n    }\n\n    if (options.resetButton) {\n      this.resetButton = options.resetButton;\n    }\n\n    if (options.nestedInput) {\n      this.nestedInput = options.nestedInput;\n    }\n\n    if (options.crossOrigin) {\n      this.crossOrigin = options.crossOrigin;\n    }\n    if (options.schema) {\n      // check if this is a schema vs a URI to get a schema\n      if (isObject(options.schema)) {\n        this.schema = options.schema;\n      } else {\n        // is a URI?\n        let parsedSchema = null;\n        try {\n          parsedSchema = JSON.parse(options.schema);\n          if (parsedSchema && isObject(parsedSchema)) {\n            this.schema = parsedSchema;\n          }\n        } catch(e) {\n          //_logger.warn(\"AUGMENTED: AutoForm parsing string schema failed.  URI perhaps?\");\n        }\n        if (!this.schema) {\n          this._retrieveSchema(options.schema);\n          this.isInitalized = false;\n        }\n      }\n    }\n\n    if (options.el) {\n      this.el = options.el;\n    }\n\n    if (options.uri) {\n      this.uri = options.uri;\n    }\n\n    if (options.style) {\n      this.style = options.style;\n    } else {\n     this.style = \"material\";\n    }\n\n    if (options.data && (isObject(options.data))) {\n      this.model.set(options.data);\n    }\n    if (options.title) {\n      this.title = options.title;\n    }\n    if (options.description) {\n      this.description = options.description;\n    }\n\n    if (options.display) {\n      this.display = options.display;\n    }\n\n    if (this.model && this.uri) {\n      this.model.url = this.uri;\n    }\n    if (this.model) {\n      this.model.crossOrigin = this.crossOrigin;\n    }\n    if (this.schema) {\n      if ((!this.name || this.name === \"\") && this.schema.title) {\n        this.name = this.schema.title;\n      }\n      if ((!this.description || this.description === \"\") && this.schema.description) {\n        this.description = this.schema.description;\n      }\n\n      if (this.schema.required) {\n        this._required = this.schema.required;\n      } else {\n        this._required = [];\n      }\n\n      if (!this.isInitalized) {\n        this._fields = this.schema.properties;\n        this.model.schema = this.schema;\n        this.isInitalized = true;\n      }\n    } else {\n      this.isInitalized = false;\n    }\n  };\n\n  /**\n   * The crossOrigin property - enables cross origin fetch\n   * @property {boolean} crossOrigin The crossOrigin property\n   */\n\n  /**\n   * The fields property\n   * @property {object} _fields The fields property\n   * @private\n   */\n\n  /**\n   * The URI property\n   * @property {string} uri The URI property\n   */\n\n  /**\n   * The model property\n   * @property {Model} model The model property\n   */\n\n  /**\n   * The initialized property\n   * @property {boolean} isInitalized The initialized property\n   */\n\n  /**\n   * The title property\n   * @property {string} title The title of the form\n   */\n\n  /**\n   * The name property\n   * @property {string} name The name of the form\n   */\n\n  /**\n   * The description property\n   * @property {string} description The description of the form\n   */\n\n  /**\n   * The required fields property\n   * @property {Array} _required The required fields\n   * @private\n   */\n\n  /**\n   * @property {array} display Fields to display - null will display all\n   */\n\n  _retrieveSchema(uri) {\n    const that = this;\n    let schema = null;\n    return request({\n      url: uri,\n      contentType: \"application/json\",\n      dataType: \"json\",\n      success: (data, status) => {\n        if (typeof data === \"string\") {\n          schema = JSON.parse(data);\n        } else {\n          schema = data;\n        }\n        that.initialize({ \"schema\": schema });\n      },\n      error: (data, status) => {\n        console.warn(`${this.name} Failed to fetch schema!`, status);\n      }\n    });\n  };\n\n  /**\n   * Sets the URI\n   * @param {string} uri The URI\n   * @deprecated Use property\n   */\n  setURI(uri) {\n    this.uri = uri;\n  };\n\n  /**\n   * Sets the schema\n   * @param {object} schema The JSON schema of the dataset\n   */\n  setSchema(schema) {\n    this.schema = schema;\n    this._fields = schema.properties;\n    this.model.reset();\n    this.model.schema = schema;\n\n    if (this.uri) {\n      model.url = this.uri;\n    }\n  };\n\n  /**\n   * Enable/Disable the progress bar\n   * @param {boolean} show Show or Hide the progress bar\n   */\n  showProgressBar(show) {\n    if (this.el) {\n      const e = Dom.selector(this.el);\n      if (e) {\n        const p = e.querySelector(\"progress\");\n        if (p) {\n          p.style.display = (show) ? \"block\" : \"none\";\n          p.style.visibility = (show) ? \"visible\" : \"hidden\";\n        }\n      }\n    }\n  };\n\n  /**\n   * Show a message related to the form\n   * @param {string} message Some message to display\n   */\n  showMessage(message) {\n    if (this.el) {\n      const e = Dom.selector(this.el);\n      if (e) {\n        const p = e.querySelector(\"p[class=message]\");\n        if (p) {\n          p.innerHTML = message;\n        }\n      }\n    }\n  };\n\n  /**\n   * Validate the form\n   * @returns {boolean} Returns true on success of validation\n   */\n  validate() {\n    let messages = (this.model) ? this.model.validate() : null;\n    if (!this.model.isValid() && messages && messages.messages) {\n      this.showMessage(formatValidationMessages(messages.messages));\n    } else {\n      this.showMessage(\"\");\n    }\n    return messages;\n  };\n\n  /**\n   * Is the form valid\n   * @returns {boolean} Returns true if valid\n   */\n  isValid() {\n    return (this.model) ? this.model.isValid() : true;\n  };\n\n  /**\n   * Render the form\n   * @returns {object} Returns the view context ('this')\n   */\n  render() {\n    if (!this.isInitalized) {\n      console.warn(`${this.name} Can't render yet, not initialized!`);\n      return this;\n    }\n\n    this.template = null;//\"notused\";\n    this.showProgressBar(true);\n\n    if (this.el) {\n      const e = Dom.selector(this.el);\n      if (e) {\n        if (this.theme) {\n          Dom.addClass(e, this.theme);\n        }\n        // progress bar\n        let n = document.createElement(\"progress\"), t = document.createTextNode(\"Please wait.\");\n        n.appendChild(t);\n        e.appendChild(n);\n\n        // the form\n        const form = formCompile(\n          ((this.title) ? this.title : null),\n          this.description,\n          this._fields,\n          this.model.toJSON(),\n          this._required,\n          this.name,\n          this.display,\n          this.nestedInput,\n          this.submitButton,\n          this.resetButton,\n          this.style,\n          this.tagName\n        );\n        if (form) {\n          e.appendChild(form);\n        }\n        this._formEl = Dom.query(\"form\", this.el);\n\n        // message\n        n = document.createElement(\"p\");\n        n.classList.add(\"message\");\n        e.appendChild(n);\n      }\n    } else {\n      console.warn(`${this.name} no element anchor, not rendering.`);\n      this.showProgressBar(false);\n      return this;\n    }\n\n    this.delegateEvents();\n    this.syncAllBoundElements();\n    this.showProgressBar(false);\n    return this;\n  };\n\n  /**\n   * Reset the form\n   * @returns {object} Returns the view context ('this')\n   */\n  reset() {\n    if (this._formEl) {\n      this._formEl.reset();\n      this.model.reset();\n    }\n    return this;\n  };\n\n  /**\n   * Populate the form\n   * @param {object} data Data to fill in\n   * @returns {object} Returns the view context ('this')\n   */\n  populate(data) {\n    this.model.set(data);\n    return this;\n  };\n\n  /**\n   * Remove the form and all binds\n   */\n  remove() {\n    /* off to unbind the events */\n    this.undelegateEvents();\n    this.off();\n    this.stopListening();\n\n    Dom.empty(this.el);\n\n    return this;\n  };\n};\n\nexport default AutomaticForm;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","const formatValidationMessages = (messages) => {\n  let html = \"\";\n  if (messages && messages.length > 0) {\n    html = html + `<ul class=\"errors\">`;\n    const l = messages.length;\n    let i = 0, ii = 0;\n    for (i = 0; i < l; i++) {\n      const ll = messages[i].errors.length;\n      for (ii = 0; ii < ll; ii++) {\n        html = html + `<li>${messages[i].errors[ii]}</li>`;\n      }\n    }\n    html = html + \"</ul>\";\n  }\n  return html;\n};\n\nexport default formatValidationMessages;\n"],"sourceRoot":""}