{"version":3,"sources":["webpack://presentation-form/webpack/universalModuleDefinition","webpack://presentation-form/webpack/bootstrap","webpack://presentation-form/./src/functions/buildForm.js","webpack://presentation-form/./src/index.js","webpack://presentation-form/./src/autoForm.js","webpack://presentation-form/external {\"commonjs\":\"next-core-utilities\",\"commonjs2\":\"next-core-utilities\",\"amd\":\"next-core-utilities\",\"root\":\"next-core-utilities\"}","webpack://presentation-form/external {\"commonjs\":\"presentation-decorator\",\"commonjs2\":\"presentation-decorator\",\"amd\":\"presentation-decorator\",\"root\":\"presentation-decorator\"}","webpack://presentation-form/external {\"commonjs\":\"presentation-request\",\"commonjs2\":\"presentation-request\",\"amd\":\"presentation-request\",\"root\":\"presentation-request\"}","webpack://presentation-form/external {\"commonjs\":\"presentation-models\",\"commonjs2\":\"presentation-models\",\"amd\":\"presentation-models\",\"root\":\"presentation-models\"}","webpack://presentation-form/external {\"commonjs\":\"presentation-dom\",\"commonjs2\":\"presentation-dom\",\"amd\":\"presentation-dom\",\"root\":\"presentation-dom\"}","webpack://presentation-form/external {\"commonjs\":\"presentation-widget\",\"commonjs2\":\"presentation-widget\",\"amd\":\"presentation-widget\",\"root\":\"presentation-widget\"}","webpack://presentation-form/./src/functions/messages.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__5__","__WEBPACK_EXTERNAL_MODULE__6__","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__8__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_presentationWidget","description","fields","model","required","binding","display","nestedInput","submitButton","resetButton","form","document","fs","keys","length","input","lb","req","lg","att","displayCol","Widget","reset","submit","AutomaticForm","formCompile","_nextCoreUtilities","_presentationDecorator","_presentationRequest","_presentationModels","DecoratorView","constructor","options","super","crossOrigin","_fields","uri","isInitalized","title","_required","clearForm","clear","Model","schema","isObject","parsedSchema","JSON","e","_retrieveSchema","el","data","set","url","properties","that","request","contentType","dataType","success","status","error","setURI","setSchema","showProgressBar","Dom","show","showMessage","validate","messages","isValid","_messages2","default","render","template","theme","_buildForm2","toJSON","_formEl","delegateEvents","syncAllBoundElements","populate","remove","undelegateEvents","off","stopListening","html","ii","ll"],"mappings":"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","file":"presentation-form.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"next-core-utilities\"), require(\"presentation-decorator\"), require(\"presentation-request\"), require(\"presentation-models\"), require(\"presentation-dom\"), require(\"presentation-widget\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"presentation-form\", [\"next-core-utilities\", \"presentation-decorator\", \"presentation-request\", \"presentation-models\", \"presentation-dom\", \"presentation-widget\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"presentation-form\"] = factory(require(\"next-core-utilities\"), require(\"presentation-decorator\"), require(\"presentation-request\"), require(\"presentation-models\"), require(\"presentation-dom\"), require(\"presentation-widget\"));\n\telse\n\t\troot[\"presentation-form\"] = factory(root[\"next-core-utilities\"], root[\"presentation-decorator\"], root[\"presentation-request\"], root[\"presentation-models\"], root[\"presentation-dom\"], root[\"presentation-widget\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__5__, __WEBPACK_EXTERNAL_MODULE__6__, __WEBPACK_EXTERNAL_MODULE__7__, __WEBPACK_EXTERNAL_MODULE__8__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","import { Widget } from \"presentation-widget\";\n\nconst formCompile = (name, description, fields, model, required, binding, display, nestedInput, submitButton, resetButton) => {\n  const form = document.createElement(\"form\"), fs = document.createElement(\"formset\"), keys = Object.keys(fields), l = ((display) ? display.length: keys.length);\n  let t, i, input, lb, req;\n\n  form.appendChild(fs);\n\n  if (name) {\n    const lg = document.createElement(\"legend\");\n    t = document.createTextNode(name);\n    if (description) {\n      const att = document.createAttribute(\"title\");\n      att.value = description;\n      lg.setAttributeNode(att);\n    }\n    lg.appendChild(t);\n    fs.appendChild(lg);\n  }\n  //console.debug(\"form display fields\", display);\n\n  if (!display) {\n    display = keys;\n  }\n\n  for (i = 0; i < l; i++) {\n    let displayCol = true;\n    if (display) {\n      //console.debug(\"form field: \" + display[i] + \" is present: \" + keys.indexOf(display[i]) );\n      displayCol = (keys.indexOf(display[i]) !== -1) ? true : false;\n    }\n\n    if (displayCol) {\n      req = (required.indexOf(display[i]) !== -1);\n      lb = document.createElement(\"label\");\n      lb.setAttribute(\"for\", display[i]);\n      t = document.createTextNode(fields[display[i]].description);\n      lb.appendChild(t);\n      input = Widget.Input(fields[display[i]], display[i], model[display[i]], display[i], req, binding);\n      if (nestedInput) {\n        if (input) {\n          lb.appendChild(input);\n        }\n        fs.appendChild(lb);\n      } else {\n        fs.appendChild(lb);\n        if (input) {\n          fs.appendChild(input);\n        }\n      }\n    }\n  }\n\n  if (resetButton) {\n    const reset = document.createElement(\"button\");\n    reset.setAttribute(\"type\", \"reset\");\n    reset.setAttribute(`data-${name}`, binding);\n    form.appendChild(reset);\n  }\n\n  if (submitButton) {\n    const submit = document.createElement(\"button\");\n    submit.setAttribute(\"type\", \"submit\");\n    submit.setAttribute(`data-${name}`, binding);\n    form.appendChild(submit);\n  }\n  return form;\n};\n\nexport default formCompile;\n","import AutomaticForm from \"./autoForm.js\";\nimport formCompile from \"./functions/buildForm.js\";\n\nmodule.exports.AutomaticForm = AutomaticForm;\nmodule.exports.formCompile = formCompile;\n","import { isObject } from \"next-core-utilities\";\nimport { DecoratorView } from \"presentation-decorator\";\nimport { request } from \"presentation-request\";\nimport { Model } from \"presentation-models\";\nimport Dom from \"presentation-dom\";\nimport formCompile from \"./functions/buildForm.js\";\nimport formatValidationMessages from \"./functions/messages.js\";\n\n/**\n * A automatic form view created from a JSON Schema\n * @memberof Presentation.Component\n * @extends DecoratorView\n */\nclass AutomaticForm extends DecoratorView {\n  constructor(options) {\n    if (!options) {\n      options = {};\n    }\n    super(options);\n    this.crossOrigin = false;\n    this._fields = {};\n    this.uri = null;\n    this.isInitalized = false;\n    this.title = null;\n    this.description = \"\";\n    this._required = [];\n    this.display = null;\n    this.nestedInput = false;\n    this.submitButton = false;\n    this.resetButton = false;\n\n    if (this.model && options && options.clearForm) {\n      this.model.clear();\n    } else if (!this.model) {\n      this.model = new Model();\n    }\n\n    if (options.submitButton) {\n      this.submitButton = options.submitButton;\n    }\n\n    if (options.resetButton) {\n      this.resetButton = options.resetButton;\n    }\n\n    if (options.nestedInput) {\n      this.nestedInput = options.nestedInput;\n    }\n\n    if (options.crossOrigin) {\n      this.crossOrigin = options.crossOrigin;\n    }\n    if (options.schema) {\n      // check if this is a schema vs a URI to get a schema\n      if (isObject(options.schema)) {\n        this.schema = options.schema;\n      } else {\n        // is a URI?\n        let parsedSchema = null;\n        try {\n          parsedSchema = JSON.parse(options.schema);\n          if (parsedSchema && isObject(parsedSchema)) {\n            this.schema = parsedSchema;\n          }\n        } catch(e) {\n          //_logger.warn(\"AUGMENTED: AutoForm parsing string schema failed.  URI perhaps?\");\n        }\n        if (!this.schema) {\n          this._retrieveSchema(options.schema);\n          this.isInitalized = false;\n        }\n      }\n    }\n\n    if (options.el) {\n      this.el = options.el;\n    }\n\n    if (options.uri) {\n      this.uri = options.uri;\n    }\n\n    if (options.data && (isObject(options.data))) {\n      this.model.set(options.data);\n    }\n    if (options.title) {\n      this.title = options.title;\n    }\n    if (options.description) {\n      this.description = options.description;\n    }\n\n    if (options.display) {\n      this.display = options.display;\n    }\n\n    if (this.model && this.uri) {\n      this.model.url = this.uri;\n    }\n    if (this.model) {\n      this.model.crossOrigin = this.crossOrigin;\n    }\n    if (this.schema) {\n      if ((!this.name || this.name === \"\") && this.schema.title) {\n        this.name = this.schema.title;\n      }\n      if ((!this.description || this.description === \"\") && this.schema.description) {\n        this.description = this.schema.description;\n      }\n\n      if (this.schema.required) {\n        this._required = this.schema.required;\n      } else {\n        this._required = [];\n      }\n\n      if (!this.isInitalized) {\n        this._fields = this.schema.properties;\n        this.model.schema = this.schema;\n        this.isInitalized = true;\n      }\n    } else {\n      this.isInitalized = false;\n    }\n  };\n\n  /**\n   * The crossOrigin property - enables cross origin fetch\n   * @property {boolean} crossOrigin The crossOrigin property\n   */\n\n  /**\n   * The fields property\n   * @property {object} _fields The fields property\n   * @private\n   */\n\n  /**\n   * The URI property\n   * @property {string} uri The URI property\n   */\n\n  /**\n   * The model property\n   * @property {Model} model The model property\n   */\n\n  /**\n   * The initialized property\n   * @property {boolean} isInitalized The initialized property\n   */\n\n  /**\n   * The title property\n   * @property {string} title The title of the form\n   */\n\n  /**\n   * The name property\n   * @property {string} name The name of the form\n   */\n\n  /**\n   * The description property\n   * @property {string} description The description of the form\n   */\n\n  /**\n   * The required fields property\n   * @property {Array} _required The required fields\n   * @private\n   */\n\n\n  /**\n   * Fields to display - null will display all\n   * @method display\n   */\n\n  _retrieveSchema(uri) {\n    let that = this;\n    let schema = null;\n    request({\n      url: uri,\n      contentType: \"application/json\",\n      dataType: \"json\",\n      success: (data, status) => {\n        if (typeof data === \"string\") {\n          schema = JSON.parse(data);\n        } else {\n          schema = data;\n        }\n        let options = { \"schema\": schema };\n        that.initialize(options);\n      },\n      error: (data, status) => {\n        //_logger.warn(\"AUGMENTED: AutoForm Failed to fetch schema!\");\n      }\n    });\n  };\n\n  /**\n   * Sets the URI\n   * @param {string} uri The URI\n   */\n  setURI(uri) {\n    this.uri = uri;\n  };\n\n  /**\n   * Sets the schema\n   * @param {object} schema The JSON schema of the dataset\n   */\n  setSchema(schema) {\n    this.schema = schema;\n    this._fields = schema.properties;\n    this.model.reset();\n    this.model.schema = schema;\n\n    if (this.uri) {\n      model.url = this.uri;\n    }\n  };\n\n  /**\n   * Enable/Disable the progress bar\n   * @param {boolean} show Show or Hide the progress bar\n   */\n  showProgressBar(show) {\n    if (this.el) {\n      const e = Dom.selector(this.el);\n      if (e) {\n        const p = e.querySelector(\"progress\");\n        if (p) {\n          p.style.display = (show) ? \"block\" : \"none\";\n          p.style.visibility = (show) ? \"visible\" : \"hidden\";\n        }\n      }\n    }\n  };\n\n  /**\n   * Show a message related to the form\n   * @param {string} message Some message to display\n   */\n  showMessage(message) {\n    if (this.el) {\n      const e = Dom.selector(this.el);\n      if (e) {\n        const p = e.querySelector(\"p[class=message]\");\n        if (p) {\n          p.innerHTML = message;\n        }\n      }\n    }\n  };\n\n  /**\n   * Validate the form\n   * @returns {boolean} Returns true on success of validation\n   */\n  validate() {\n    let messages = (this.model) ? this.model.validate() : null;\n    if (!this.model.isValid() && messages && messages.messages) {\n      this.showMessage(formatValidationMessages(messages.messages));\n    } else {\n      this.showMessage(\"\");\n    }\n    return messages;\n  };\n\n  /**\n   * Is the form valid\n   * @returns {boolean} Returns true if valid\n   */\n  isValid() {\n    return (this.model) ? this.model.isValid() : true;\n  };\n\n  /**\n   * Render the form\n   * @returns {object} Returns the view context ('this')\n   */\n  render() {\n    if (!this.isInitalized) {\n      //_logger.warn(\"AUGMENTED: AutomaticForm Can't render yet, not initialized!\");\n      return this;\n    }\n\n    this.template = null;//\"notused\";\n    this.showProgressBar(true);\n\n    if (this.el) {\n      const e = Dom.selector(this.el);\n      if (e) {\n        if (this.theme) {\n          Dom.addClass(e, this.theme);\n        }\n        // progress bar\n        let n = document.createElement(\"progress\"), t = document.createTextNode(\"Please wait.\");\n        n.appendChild(t);\n        e.appendChild(n);\n\n        // the form\n        const form = formCompile(\n          ((this.title) ? this.title : null),\n          this.description,\n          this._fields,\n          this.model.toJSON(),\n          this._required,\n          this.name,\n          this.display,\n          this.nestedInput,\n          this.submitButton,\n          this.resetButton\n        );\n        e.appendChild(form);\n        this._formEl = Dom.query(\"form\", this.el);\n\n        // message\n        n = document.createElement(\"p\");\n        n.classList.add(\"message\");\n        e.appendChild(n);\n      }\n    } else {\n      //_logger.warn(\"AUGMENTED: AutomaticForm no element anchor, not rendering.\");\n      this.showProgressBar(false);\n      return this;\n    }\n\n    this.delegateEvents();\n\n    this.syncAllBoundElements();\n\n    this.showProgressBar(false);\n    return this;\n  };\n\n  /**\n   * Reset the form\n   * @returns {object} Returns the view context ('this')\n   */\n  reset() {\n    if (this._formEl) {\n      this._formEl.reset();\n      this.model.reset();\n    }\n  };\n\n  /**\n   * Populate the form\n   * @param {object} data Data to fill in\n   * @returns {object} Returns the view context ('this')\n   */\n  populate(data) {\n    this.model.set(data);\n  };\n\n  /**\n   * Remove the form and all binds\n   */\n  remove() {\n    /* off to unbind the events */\n    this.undelegateEvents();\n    this.off();\n    this.stopListening();\n\n    Dom.empty(this.el);\n\n    return this;\n  };\n};\n\nexport default AutomaticForm;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","const formatValidationMessages = (messages) => {\n  let html = \"\";\n  if (messages && messages.length > 0) {\n    html = html + \"<ul class=\\\"errors\\\">\";\n    const l = messages.length;\n    let i = 0, ii = 0;\n    for (i = 0; i < l; i++) {\n      const ll = messages[i].errors.length;\n      for (ii = 0; ii < ll; ii++) {\n        html = html + \"<li>\" + messages[i].errors[ii] + \"</li>\";\n      }\n    }\n    html = html + \"</ul>\";\n  }\n  return html;\n};\n\nexport default formatValidationMessages;\n"],"sourceRoot":""}